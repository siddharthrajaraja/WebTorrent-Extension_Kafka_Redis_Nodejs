    <script>
        const fs=require('fs')

        const DIRECTORY_LINUX=`/home/siddharth/Documents/Projects/css-portfolio/`
        const DIRECTORY_WIN=`C:\\electronProject\\`

        var createDirectory=(dir)=>{
            console.log("Creating :",dir)
            if (!fs.existsSync(dir)){
                fs.mkdirSync(dir);
            }
        }

        async function downloadMagnetURL(magnetURL,fileName){
        let DIRECTORY_WIN=`C:\\electronProject`
    
        const folderName=Cookies.get('roomName');

        let DIRECTORY_LINUX=`/home/siddharth/Documents/Projects`

        var client = new WebTorrent()

        // Sintel, a free, Creative Commons movie
        var torrentId = magnetURL

        client.add(torrentId, async function (torrent) {
        console.log(
            'bef add',client.downloadSpeed, client.uploadSpeed, client.ratio, client.progress)

        // Torrents can contain many files. Let's use the .mp4 file
        var file = await torrent.files.find(function (file) {
            console.log(file.downloaded,client.downloadSpeed, client.uploadSpeed, client.ratio, client.progress)

            return file
        })
        
        console.log("Here i am getting buffer")
        console.log("here is file :",file)
        file.getBuffer((err,buffer)=>{
            if(err) throw err;
            console.log(buffer)

            
            //fs.appendFileSync(DIRECTORY_WIN+file.name,buffer)
            //console.log("contects :",fs.readFileSync(file.name, "utf8"))

            createDirectory(DIRECTORY_WIN+'\\'+folderName)
            DIRECTORY_WIN=DIRECTORY_WIN+'\\'+folderName
            console.log("Path :",DIRECTORY_WIN+'\\'+fileName)
            fs.appendFileSync(DIRECTORY_WIN+'\\'+fileName,buffer)
            console.log("after appending :",fs)
        })

        file.getBlobURL(function (err, url) {
            if (err) throw err
            var a = document.createElement('a')
            a.download = file.name
            a.href = url
            a.textContent = 'Download ' + file.name
            document.body.appendChild(a)
        })

        // Display the file by adding it to the DOM.
        // Supports video, audio, image files, and more!
        console.log(typeof(file))
        var div = document.createElement("div");
        file.appendTo(div);
        
        div.classList.add("userdata");
        document.getElementById("uploadData").appendChild(div);
        
        })
    }

        
        /**
         * connected-> room . roomID -> emit "${emailID} is connected  green "
         * send_file -> roomID, senderID, date, magnetURL => emit 
         * disconnect -> room . roomID -> emit "${emailID} is disconnected  green"
        **/
        
        function socketImplementation(roomId,roomName)
        {
            
            
            console.log(socket)
            socket.connect('http://localhost:8000')
            console.log("userobj: ",decoded)
            
            socket.emit('join_room',{userObj:decoded,roomID:roomId,roomName:roomName})
        }

        socket.on('joined_room',(data)=>{
                console.log("asert",data);
                alert(data)
            })

        socket.on('share_file',({magnetURL,fileName})=>{
            console.log("MagnetLink",magnetURL,fileName);
            downloadMagnetURL(magnetURL,fileName);
        })
        
        // var sendUsername=()=>{
        //     let data=document.getElementById('username').value
        //     socket.emit('change_name',{username:data})
        //     console.log("newUsername :",socket.username)
        // }
        
        // socket.on('new_message',(data)=>{
        //     console.log(data)
        // })

        // var sendTypingMessage=()=>{

        //     socket.emit('typing')

        // }

        //socket.on('typing',(data)=>{console.log(data.username+"is typing!!")})

    </script>